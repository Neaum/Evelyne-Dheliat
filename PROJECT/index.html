<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Titre de la page</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
<div id="app">
  {{ message }}

</div>
</body>
<script>
  var app = new Vue({
      el: '#app',
      data: {
        message: 'test',
        client: ''
      },
      mounted () {
        this.client = new Paho.MQTT.Client("192.168.43.136", 61614, "clientId");
        this.client.onConnectionLost = this.onConnectionLost;
        this.client.onMessageArrived = this.onMessageArrived;
        this.client.connect({ onSuccess: this.onConnect });
      },
      methods: {
        onConnect() {
            // Once a connection has been made, make a subscription and send a message.
            console.log("onConnect");
            this.client.subscribe("#");
            message = new Paho.MQTT.Message("Hello");
            message.destinationName = "World";
            this.client.send(message);
        },
        onConnectionLost(responseObject) {
          if (responseObject.errorCode !== 0) {
            console.log("onConnectionLost:" + responseObject.errorMessage);
          }
        },
        onMessageArrived(message) {
          this.message = message.payloadString
          console.log("onMessageArrived:" + message.payloadString);
            var str=message.payloadString;
            var values=str.split(' ');
            console.log(values[0]);
            temp=values[0];
            console.log(values[1]);
            hum=values[1];
            <p>yo</p>
            this.message=(hum);
            
        }

          
      }
    })
</script>
</html>
